<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Preview Produk - Nama Produk</title>
    <!-- favicon -->
    <link rel="icon" href="image/icon.JPG" type="image/png" />
    <link rel="stylesheet" href="css/styles.css" />
    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <!-- Material Icon -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!-- AOS JS Fade Up/Fade Down -->
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  </head>

  <!-- Preloader -->
  <div
    id="preloader"
    class="fixed inset-0 bg-white z-50 flex items-center justify-center transition-opacity duration-500"
  >
    <div
      class="w-10 h-10 border-4 border-gray-200 border-t-[#d1a86f] rounded-full animate-spin"
    ></div>
  </div>

  <body class="bg-white text-white">
    <!-- Navbar Top -->
    <nav
      class="fixed top-0 left-0 w-full h-12 px-4 md:px-10 py-3 border-b border-[#d1a86f] shadow-sm flex items-center justify-between bg-[#0f2d25] z-[1000]"
      data-aos="fade-down"
      data-aos-duration="400"
      data-aos-delay="0"
    >
      <!-- Left: Logo -->
      <a href="index.html" class="flex items-center space-x-2 z-[1001]">
        <img src="image/icon.JPG" alt="Logo" class="w-8 h-8 object-contain" />
        <span
          class="text-md font-quantify font-extrabold tracking-wide text-[#d1a86f]"
        >
          SKAWAN INDUSTRIES
        </span>
      </a>

      <!-- Right: User Info with Dropdown -->
      <div class="flex items-center space-x-2 sm:space-x-3 relative z-[1000]">
        <!-- Username -->
        <span
          class="text-sm sm:text-md font-quantify font-extrabold tracking-wide text-white truncate max-w-[100px] sm:max-w-none"
        >
          USERNAME
        </span>
        <div class="relative">
          <!-- Avatar Button -->
          <button
            id="profile-menu-btn"
            class="w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-[#d1a86f] overflow-hidden focus:outline-none"
          >
            <img
              src="image/usericon.jpg"
              alt="User Profile"
              class="w-full h-full object-cover cursor-pointer"
            />
          </button>

          <!-- Dropdown -->
          <div
            id="profile-menu-dropdown"
            class="hidden absolute right-0 top-full mt-3 w-52 bg-white rounded-lg shadow-xl ring-1 ring-gray-200 z-[1001]"
          >
            <a
              href="user_profile.html"
              class="flex items-center gap-3 px-4 py-3 text-sm text-gray-800 hover:bg-gray-100 transition"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 text-gray-600"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 20h9"
                />
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16 4H8m8 0v16M8 4v16"
                />
              </svg>
              Edit Profil
            </a>
            <a
              href="logout.html"
              class="flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 text-red-500"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7"
                />
              </svg>
              Logout
            </a>
          </div>

          <!-- SCRIPT -->
          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const profileBtn = document.getElementById("profile-menu-btn");
              const dropdown = document.getElementById("profile-menu-dropdown");

              profileBtn.addEventListener("click", function (e) {
                e.stopPropagation();
                dropdown.classList.toggle("hidden");
              });

              document.addEventListener("click", function (e) {
                if (
                  !dropdown.contains(e.target) &&
                  !profileBtn.contains(e.target)
                ) {
                  dropdown.classList.add("hidden");
                }
              });
            });
          </script>
        </div>
      </div>
    </nav>

    <!-- Product Info Bar -->
    <div
      class="fixed top-12 w-full z-[999] bg-white border-b border-gray-200 shadow-sm px-4 md:px-10 pt-4 pb-8 sm:py-4 flex items-start sm:items-center justify-between"
      data-aos="fade-down"
      data-aos-duration="400"
      data-aos-delay="100"
    >
      <!-- Kiri: Tombol Back -->
      <div class="flex-shrink-0 mt-1 sm:mt-0">
        <a
          href="design_product.html"
          class="font-quantify inline-flex items-center text-sm sm:text-sm text-gray-600 hover:text-black font-medium transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-1"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"
            />
          </svg>
          Kembali
        </a>
      </div>

      <!-- Tengah: Nama Produk dan Harga -->
      <div class="absolute left-1/2 transform -translate-x-1/2 text-center">
        <h1 class="text-base sm:text-lg font-quantify font-bold text-[#0f2d25]">
          Nama Produk Kaos
        </h1>
        <span
          class="text-sm sm:text-base font-quantify font-semibold text-[#0f2d25]"
        >
          Total Harga : Rp 125.000
        </span>
      </div>
    </div>

    <!-- SECTION PREVIEW PRODUK -->
    <div
      class="relative overflow-visible z-0 flex flex-col lg:flex-row gap-6 mt-40 px-4 mb-5"
    >
      <div
        class="flex-1 relative z-0 flex justify-center items-center px-4 sm:px-0 border border-black rounded-2xl shadow-xl p-4 sm:p-6 bg-white"
      >
        <div class="w-full max-w-[500px] space-y-4 flex flex-col items-center">
          <!-- canvas section -->
          <div
            id="canvas-wrapper"
            class="bg-white p-2 sm:p-4 flex justify-center items-center"
            style="width: 600px; height: 650px; overflow: hidden"
          >
            <canvas id="previewCanvas" width="600" height="600"></canvas>
          </div>

          <!-- panel button -->
          <div
            class="bg-white border border-gray-300 rounded-xl shadow-md px-2.5 sm:px-4 py-2 sm:py-3 flex flex-wrap justify-center items-center gap-1.5 sm:gap-2 w-full max-w-[320px] sm:max-w-[560px] z-30"
          >
            <div class="flex items-center gap-1 sm:gap-2 flex-shrink-0">
              <span class="text-[10px] sm:text-sm text-gray-700 font-medium"
                >Zoom :</span
              >
              <select
                id="zoomSelect"
                class="appearance-none bg-white border border-gray-300 text-gray-800 text-[10px] sm:text-sm px-1.5 sm:px-3 py-0.5 sm:py-1.5 rounded focus:outline-none cursor-pointer h-6 sm:h-8"
              >
                <option value="50">50%</option>
                <option value="75">75%</option>
                <option value="100" selected>100%</option>
                <option value="125">125%</option>
                <option value="150">150%</option>
              </select>
            </div>
            <button
              id="depanButton"
              class="flex-shrink-0 flex items-center gap-1 sm:gap-2 bg-white border border-gray-300 hover:bg-gray-100 text-gray-800 text-[10px] sm:text-sm px-1.5 sm:px-3 py-0.5 sm:py-1.5 rounded transition h-6 sm:h-8"
            >
              <svg
                class="w-3.5 h-3.5 sm:w-5 sm:h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 19l-7-7 7-7"
                />
              </svg>
              Depan
            </button>
            <button
              id="belakangButton"
              class="flex-shrink-0 flex items-center gap-1 sm:gap-2 bg-white border border-gray-300 hover:bg-gray-100 text-gray-800 text-[10px] sm:text-sm px-1.5 sm:px-3 py-0.5 sm:py-1.5 rounded transition h-6 sm:h-8"
            >
              <svg
                class="w-3.5 h-3.5 sm:w-5 sm:h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                />
              </svg>
              Belakang
            </button>
            <a
              href="design_product.html"
              class="flex-shrink-0 flex items-center gap-1 sm:gap-2 bg-white border border-gray-300 hover:bg-gray-100 text-gray-800 text-[10px] sm:text-sm px-1.5 sm:px-3 py-0.5 sm:py-1.5 rounded transition h-6 sm:h-8"
            >
              <svg
                class="w-3.5 h-3.5 sm:w-5 sm:h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5M18.5 2.5a2.121 2.121 0 113 3L12 15l-4 1 1-4 9.5-9.5z"
                />
              </svg>
              Edit
            </a>
          </div>
        </div>
      </div>

      <!-- informasi produk section -->
      <div
        class="w-full lg:w-80 flex-none bg-white border border-[#d1a86f] p-4 rounded-2xl shadow-xl mt-2 lg:mt-0"
      >
        <h2
          class="text-xl font-bold text-[#0f2d25] mb-6 font-quantify text-center"
        >
          Informasi Desain Produk
        </h2>

        <div class="space-y-5 text-[15px] text-gray-800">
          <div class="flex items-start gap-3 border-b border-gray-200 pb-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 mt-0.5 text-[#d1a86f]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M9 12h6m-6 4h6m-6-8h6"
              />
            </svg>
            <div class="flex flex-col w-full">
              <span class="text-gray-500">Nama Produk</span>
              <span class="font-semibold text-[#0f2d25] text-[16px]"
                >Kaos Premium</span
              >
            </div>
          </div>

          <div class="flex items-start gap-3 border-b border-gray-200 pb-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 mt-0.5 text-[#d1a86f]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M4 6h16M4 10h16M4 14h16M4 18h16"
              />
            </svg>
            <div class="flex flex-col w-full">
              <span class="text-gray-500">Kategori</span>
              <span class="font-semibold text-[#0f2d25] text-[16px]"
                >T-Shirt</span
              >
            </div>
          </div>

          <div class="flex items-start gap-3 border-b border-gray-200 pb-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 mt-0.5 text-[#d1a86f]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M15 12h.01M12 12h.01M9 12h.01M3 16h18M4 8h16M6 4h12"
              />
            </svg>
            <div class="flex flex-col w-full">
              <span class="text-gray-500">Link Produk</span>
              <a
                href="#"
                class="text-blue-600 hover:underline text-sm truncate max-w-full"
                title="https://skawan.com/produk/kaos-premium"
              >
                skawan.com/produk/kaos-premium
              </a>
            </div>
          </div>

          <div class="flex items-start gap-3 border-b border-gray-200 pb-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 mt-0.5 text-[#d1a86f]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M8 7V3m8 4V3M5 11h14M5 19h14M5 15h14"
              />
            </svg>
            <div class="flex flex-col w-full">
              <span class="text-gray-500">Tanggal Pengajuan</span>
              <span class="font-semibold text-[#0f2d25] text-[16px]"
                >06 Juli 2025</span
              >
            </div>
          </div>

          <div class="flex items-start gap-3 border-b border-gray-200 pb-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 mt-0.5 text-[#d1a86f]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M4 6h16M4 10h16M4 14h16"
              />
            </svg>
            <div class="flex flex-col w-full">
              <span class="text-gray-500">Ukuran & Jumlah</span>
              <ul
                class="list-disc list-inside text-gray-700 space-y-0.5 mt-1 text-[15px]"
              >
                <li>M - 2 pcs</li>
                <li>L - 3 pcs</li>
                <li>2XL - 1 pcs</li>
              </ul>
            </div>
          </div>

          <div class="flex items-start gap-3 pt-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 mt-0.5 text-[#d1a86f]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M12 8c-2 0-4 2-4 4s2 4 4 4 4-2 4-4-2-4-4-4zm0 10c-4.418 0-8-1.79-8-4V5a1 1 0 011-1h14a1 1 0 011 1v9c0 2.21-3.582 4-8 4z"
              />
            </svg>
            <div class="flex justify-between items-center w-full">
              <span class="font-semibold text-[#0f2d25] text-[16px]"
                >Total Harga</span
              >
              <span class="font-bold text-[#0f2d25] text-[17px]"
                >Rp 125.000</span
              >
            </div>
          </div>
        </div>

        <!-- button section -->
        <div class="mt-20 text-center">
          <div class="flex flex-col items-center justify-center space-y-4">
            <button
              id="downloadImageButton"
              class="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-yellow-400 text-black font-medium hover:bg-yellow-500 transition text-[15px] w-full max-w-xs"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                />
              </svg>
              Unduh Gambar
            </button>
            <button
              class="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-green-600 text-white font-medium hover:bg-green-700 transition text-[15px] w-full max-w-xs"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 9V2h12v7M6 18h12v2a1 1 0 01-1 1H7a1 1 0 01-1-1v-2zm12 0H6v-4h12v4z"
                />
              </svg>
              Checkout Produk
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- === Tombol Aksi Mobile (Hanya muncul di mobile) === -->
    <div class="sm:hidden mt-4 px-4 w-full">
      <div class="flex flex-col gap-3 w-full">
        <a
          href="#"
          class="w-full flex items-center justify-center gap-2 text-sm font-quantify px-4 py-3 border border-[#d1a86f] text-[#0f2d25] bg-[#d1a86f] rounded-xl hover:bg-[#c1985e] transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4"
            />
          </svg>
          Download
        </a>
      </div>
    </div>

    <!-- Footer Section -->
    <footer class="w-full bg-[#0f2d25] text-white mt-10">
      <div
        class="max-w-[1500px] mx-auto px-4 sm:px-6 md:px-12 lg:px-20 xl:px-24 py-12"
      >
        <!-- Top Section -->
        <div
          class="flex flex-col md:flex-row justify-between items-center pb-8 mb-8 border-b border-[#15453a]"
        >
          <!-- Logo and Tagline -->
          <div
            class="flex flex-col md:items-start items-center text-center md:text-left mb-4 md:mb-0"
          >
            <div class="flex items-center mb-2">
              <img
                src="image/icon.JPG"
                alt="SKAWAN INDUSTRIES Logo"
                class="w-10 h-10 rounded-full mr-3"
              />
              <h3
                class="font-quantify text-xl sm:text-2xl font-bold text-[#d1a86f]"
              >
                SKAWAN INDUSTRIES
              </h3>
            </div>
            <h6 class="text-sm text-white font-quantify">
              Start order now and get a cool design product
            </h6>
          </div>
        </div>

        <!-- Grid Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Alamat -->
          <div class="flex flex-col items-start text-left">
            <h4 class="font-bold text-lg text-white font-quantify">Alamat</h4>
            <div class="w-12 h-1 bg-white mt-1 mb-4"></div>
            <p class="text-white mb-4 font-quantify">
              Jl. Puri Airlangga No.20 blok P, Kapasan, Sidokare, Sidoarjo,
              Sidoarjo Regency, East Java 61214
            </p>
            <div
              class="w-full h-[280px] md:h-[320px] rounded-lg overflow-hidden"
            >
              <iframe
                src="https://www.google.com/maps?q=-7.446144,112.707078&hl=es;z=14&output=embed"
                width="100%"
                height="100%"
                style="border: 0"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                class="w-full h-full filter grayscale contrast-110"
              >
              </iframe>
            </div>
          </div>

          <!-- Follow Us On -->
          <div class="flex flex-col items-start text-left">
            <h4 class="font-bold text-lg text-white font-quantify">
              Follow Us On :
            </h4>
            <div class="w-12 h-1 bg-white mt-1 mb-4"></div>
            <div class="flex flex-col space-y-4">
              <!-- WhatsApp -->
              <a
                href="https://wa.me/6289649710370"
                target="_blank"
                class="flex items-center space-x-3 group"
              >
                <div
                  class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 group-hover:bg-white/20 transition"
                >
                  <img
                    src="image/whatsapp_icon.png"
                    alt="WhatsApp"
                    class="w-5 h-5"
                  />
                </div>
                <span class="text-white font-quantify">WhatsApp</span>
              </a>

              <!-- Instagram -->
              <a
                href="https://www.instagram.com/skawanindustries?igsh=MzJqMWdwb294Mnk4"
                target="_blank"
                class="flex items-center space-x-3 group"
              >
                <div
                  class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 group-hover:bg-white/20 transition"
                >
                  <img
                    src="image/instagram_icon.png"
                    alt="Instagram"
                    class="w-5 h-5"
                  />
                </div>
                <span class="text-white font-quantify">Instagram</span>
              </a>

              <!-- Shopee -->
              <a
                href="http://shopee.co.id/skawanindustries"
                target="_blank"
                class="flex items-center space-x-3 group"
              >
                <div
                  class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 group-hover:bg-white/20 transition"
                >
                  <img
                    src="image/shopee_icon.png"
                    alt="Shopee"
                    class="w-5 h-5"
                  />
                </div>
                <span class="text-white font-quantify">Shopee</span>
              </a>
            </div>
          </div>

          <!-- Get In Touch -->
          <div class="flex flex-col items-start text-left">
            <h4 class="font-bold text-lg text-white font-quantify">
              Get In Touch With Us
            </h4>
            <div class="w-12 h-1 bg-white mt-1 mb-4"></div>
            <p class="text-white font-quantify">Phone: +62 8819 727 687</p>
            <p class="text-white mt-4 font-quantify">
              Senin–Jumat:<br />9.00 – 20.00
            </p>
            <p class="text-white mt-4 font-quantify">
              Saturday-Minggu:<br />10.00 – 17.00
            </p>
            <p class="text-white mt-4 font-quantify">
              support@skawanindustries.com
            </p>
          </div>

          <!-- Quick Links -->
          <div class="flex flex-col items-start text-left">
            <h4 class="font-bold text-lg text-white font-quantify">
              Quick Links
            </h4>
            <div class="w-12 h-1 bg-white mt-1 mb-4"></div>
            <ul class="space-y-2">
              <li>
                <a
                  href="index.html"
                  class="text-white hover:text-green-300 font-quantify"
                  >Home Page</a
                >
              </li>
              <li>
                <a
                  href="list_product.html"
                  class="text-white hover:text-green-300 font-quantify"
                  >category1</a
                >
              </li>
              <li>
                <a
                  href="list_product.html"
                  class="text-white hover:text-green-300 font-quantify"
                  >category2</a
                >
              </li>
              <li>
                <a
                  href="list_product.html"
                  class="text-white hover:text-green-300 font-quantify"
                  >category3</a
                >
              </li>
              <li>
                <a
                  href="list_product.html"
                  class="text-white hover:text-green-300 font-quantify"
                  >category4</a
                >
              </li>
              <li>
                <a
                  href="list_product.html"
                  class="text-white hover:text-green-300 font-quantify"
                  >category5</a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Bottom Footer -->
        <div
          class="mt-12 pt-6 border-t border-[#15453a] flex flex-col md:flex-row justify-between items-center text-sm text-white gap-4"
        >
          <!-- Left: Follow Us On -->
          <div class="flex items-center space-x-4">
            <span class="font-quantify text-white">Follow Us On:</span>

            <!-- WhatsApp -->
            <a
              href="https://wa.me/6289649710370"
              target="_blank"
              class="hover:text-green-300 transition"
            >
              <img
                src="image/whatsapp_icon.png"
                alt="WhatsApp"
                class="w-5 h-5"
              />
            </a>

            <!-- Instagram -->
            <a
              href="https://www.instagram.com/skawanindustries?igsh=MzJqMWdwb294Mnk4"
              target="_blank"
              class="hover:text-green-300 transition"
            >
              <img
                src="image/instagram_icon.png"
                alt="Instagram"
                class="w-5 h-5"
              />
            </a>
          </div>

          <!-- Center: Copyright -->
          <p class="text-center w-full md:w-auto font-quantify">
            © 2025 SKAWAN INDUSTRIES. All rights reserved.
          </p>

          <!-- Right: Kosong -->
          <div class="w-[120px] h-5 hidden md:block"></div>
        </div>
      </div>
    </footer>

    <!-- swiper js -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- AOS JS Fade Up/Fade Down -->
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <!-- tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- custom js -->
    <script src="js/script.js"></script>
    <!-- fabric js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <!-- preview canvas init js -->
    <script>
      // preview-canvas-init.js
      // This script initializes the Fabric.js canvas for the preview
      // and defines global variables for product images and saved design data.

      let canvas;
      let currentZoom = 1;
      let currentSide = "front";
      let backgroundAsObject = null; // This will be the Fabric.js object for the background

      const productImages = {
        front: "image/product4.jpeg",
        back: "image/product1.jpeg",
      };

      const savedDesigns = {
        front: null,
        back: null,
        canvasWidth: 600, // Default width
        canvasHeight: 600, // Default height
      };

      const localStorageKey = "kaosDesign";

      document.addEventListener("DOMContentLoaded", function () {
        const canvasElement = document.getElementById("previewCanvas");
        const canvasWrapper = document.getElementById("canvas-wrapper");

        if (!canvasElement || !canvasWrapper) {
          console.error("Canvas or wrapper element not found.");
          return;
        }

        // Retrieve design from localStorage
        const savedFullDesign = localStorage.getItem(localStorageKey);
        if (savedFullDesign) {
          try {
            const parsedDesign = JSON.parse(savedFullDesign);
            if (parsedDesign.front) savedDesigns.front = parsedDesign.front;
            if (parsedDesign.back) savedDesigns.back = parsedDesign.back;
            if (parsedDesign.canvasWidth && parsedDesign.canvasHeight) {
              savedDesigns.canvasWidth = parsedDesign.canvasWidth;
              savedDesigns.canvasHeight = parsedDesign.canvasHeight;
            }
          } catch (e) {
            console.error("Error parsing design from localStorage:", e);
          }
        }

        // Set preview canvas size according to saved (or default)
        canvasElement.width = savedDesigns.canvasWidth;
        canvasElement.height = savedDesigns.canvasHeight;

        canvas = new fabric.Canvas("previewCanvas", {
          selection: false, // Disable box selection
          interactive: false, // Disable default Fabric.js object interaction
          preserveObjectStacking: true,
          renderOnAddRemove: false,
          backgroundColor: "transparent",
          width: savedDesigns.canvasWidth,
          height: savedDesigns.canvasHeight,
        });

        // Adjust wrapper size to match canvas
        canvasWrapper.style.width = `${savedDesigns.canvasWidth}px`;
        canvasWrapper.style.height = `${savedDesigns.canvasHeight + 50}px`;

        // Initialize zoom select value
        const zoomSelect = document.getElementById("zoomSelect");
        if (zoomSelect) zoomSelect.value = "100";
      });
    </script>
    <!-- preview design display js -->
    <script>
      // preview-design-display.js
      // This script contains the core logic for displaying saved designs on the canvas,
      // including loading background images, design objects, and fonts.

      async function displayDesign(side) {
        currentSide = side;
        canvas.clear(); // Clear all objects from canvas first

        const designObjectsData = savedDesigns?.[side] || [];
        const backgroundImageURL = productImages?.[side];

        // Active/inactive buttons for view switching
        const depanButton = document.getElementById("depanButton");
        const belakangButton = document.getElementById("belakangButton");
        if (depanButton) {
          depanButton.classList.toggle("bg-gray-200", side === "front");
          depanButton.classList.toggle("bg-white", side !== "front");
        }
        if (belakangButton) {
          belakangButton.classList.toggle("bg-gray-200", side === "back");
          belakangButton.classList.toggle("bg-white", side !== "back");
        }

        // Load fonts if necessary
        if (designObjectsData && designObjectsData.length > 0) {
          const fontFamiliesToLoad = new Set();
          designObjectsData.forEach((obj) => {
            if (obj.type === "textbox" && obj.fontFamily) {
              fontFamiliesToLoad.add(obj.fontFamily);
            }
          });
          const fontLoadPromises = [];
          fontFamiliesToLoad.forEach((fontFamily) => {
            const fontUrl = `https://fonts.googleapis.com/css2?family=${fontFamily.replace(
              / /g,
              "+"
            )}&display=swap`;
            const linkId = `preview-font-link-${fontFamily.replace(
              /[^a-zA-Z0-9]/g,
              ""
            )}`;
            if (!document.getElementById(linkId)) {
              const link = document.createElement("link");
              link.id = linkId;
              link.rel = "stylesheet";
              link.href = fontUrl;
              document.head.appendChild(link);
            }
            fontLoadPromises.push(document.fonts.load(`16px "${fontFamily}"`));
          });
          await Promise.all(fontLoadPromises).catch((e) =>
            console.error("Error loading fonts:", e)
          );
        }

        // Load background image as a Fabric.js object
        backgroundAsObject = await new Promise((resolve, reject) => {
          fabric.Image.fromURL(
            backgroundImageURL,
            (img) => {
              if (!img) {
                console.warn(
                  "Background image failed to load:",
                  backgroundImageURL
                );
                return resolve(null);
              }
              const canvasWidth = canvas.getWidth();
              const canvasHeight = canvas.getHeight();
              const imgAspectRatio = img.width / img.height;
              const canvasAspectRatio = canvasWidth / canvasHeight;

              let scale;
              if (imgAspectRatio > canvasAspectRatio) {
                scale = canvasHeight / img.height;
              } else {
                scale = canvasWidth / img.width;
              }
              img.scale(scale);

              const centerX = (canvasWidth - img.width * scale) / 2;
              const centerY = (canvasHeight - img.height * scale) / 2;

              img.set({
                left: centerX,
                top: centerY,
                originX: "left",
                originY: "top",
                selectable: false, // NOT selectable
                evented: false, // Will NOT block mouse events to the canvas
                hasControls: false,
                hasBorders: false,
                objectCaching: false,
              });
              resolve(img);
            },
            {
              crossOrigin: "anonymous",
              onError: (err) => {
                console.error(
                  "Failed to load background image with Fabric.js:",
                  backgroundImageURL,
                  err
                );
                resolve(null);
              },
            }
          );
        });

        // Add background first
        if (backgroundAsObject) {
          canvas.add(backgroundAsObject);
          canvas.sendToBack(backgroundAsObject);
        }

        // Load design objects using loadFromJSON
        if (designObjectsData && designObjectsData.length > 0) {
          const fabricJSONFormat = {
            objects: designObjectsData,
          };
          await new Promise((resolve) => {
            canvas.loadFromJSON(
              fabricJSONFormat,
              () => {
                console.log("Preview: Design objects successfully loaded.");
                if (backgroundAsObject) {
                  canvas.sendToBack(backgroundAsObject);
                }
                canvas.renderAll();
                resolve();
              },
              function (o, object) {
                // Ensure design objects are not selectable or interactive in preview
                object.set({
                  selectable: false,
                  evented: false,
                  hasControls: false,
                  hasBorders: false,
                });
                object.setCoords();
              }
            );
          });
        } else {
          canvas.renderAll();
        }

        updateCanvasZoom();
        canvas.renderAll();
      }
    </script>
    <!-- panel control js -->
    <script>
      // preview-panel-controls.js
      // This script handles the zoom and view switching controls in the preview panel.

      function setupPanelControls() {
        const zoomSelect = document.getElementById("zoomSelect");
        if (zoomSelect) {
          zoomSelect.addEventListener("change", function () {
            currentZoom = parseFloat(this.value) / 100;
            updateCanvasZoom();
          });
        }

        const depanButton = document.getElementById("depanButton");
        const belakangButton = document.getElementById("belakangButton");

        if (depanButton) {
          depanButton.addEventListener("click", () => {
            if (currentSide !== "front") displayDesign("front");
          });
        }

        if (belakangButton) {
          belakangButton.addEventListener("click", () => {
            if (currentSide !== "back") displayDesign("back");
          });
        }
      }

      function updateCanvasZoom() {
        if (currentZoom !== 1) {
          const centerPoint = new fabric.Point(
            canvas.width / 2,
            canvas.height / 2
          );
          // Use zoomToPoint for centered zoom
          canvas.zoomToPoint(centerPoint, currentZoom);
        } else {
          canvas.setZoom(1);
          canvas.setViewportTransform([1, 0, 0, 1, 0, 0]); // Reset pan to center
        }
        canvas.renderAll();
      }
    </script>
    <!-- preview canvas interaction js -->
    <script>
      // preview-canvas-interaction.js
      // This script handles interactive features for the preview canvas,
      // specifically pan functionality when zoomed in.

      let isDragging = false;
      let lastPosX;
      let lastPosY;

      document.addEventListener("DOMContentLoaded", function () {
        // IMPORTANT: Initialize pan events here, after canvas is created.
        canvas.on("mouse:down", function (opt) {
          // Only enable pan if zoom is more than 100%
          if (canvas.getZoom() > 1.0) {
            isDragging = true;
            canvas.selection = false; // Ensure no box selection
            lastPosX = opt.e.clientX;
            lastPosY = opt.e.clientY;
            canvas.setCursor("grab"); // Change cursor
          }
        });

        canvas.on("mouse:move", function (opt) {
          if (isDragging) {
            const evt = opt.e;
            const vpt = this.viewportTransform;
            vpt[4] += evt.clientX - lastPosX;
            vpt[5] += evt.clientY - lastPosY;
            this.requestRenderAll(); // Use requestRenderAll for better performance
            lastPosX = evt.clientX;
            lastPosY = evt.clientY;
            canvas.setCursor("grabbing"); // Change cursor while dragging
          }
        });

        canvas.on("mouse:up", function (opt) {
          isDragging = false;
          canvas.selection = false; // Keep selection off, as interactive is false
          canvas.setCursor("default"); // Restore cursor
        });
      });
    </script>
    <!-- event listener js -->
    <script>
      // preview-event-listeners.js
      // This script contains global event listeners for the preview page,
      // including DOMContentLoaded to set up initial display and window resize.

      document.addEventListener("DOMContentLoaded", function () {
        // Ensure Fabric.js canvas and associated elements are ready
        // before attempting to display the design or set up controls.
        displayDesign("front"); // Display front design initially
        setupPanelControls(); // Setup panel controls after elements are available
      });

      // Resize canvas if window is resized
      window.addEventListener("resize", () => {
        const canvasWrapper = document.getElementById("canvas-wrapper");
        if (canvasWrapper) {
          const targetWidth = savedDesigns.canvasWidth;
          const targetHeight = savedDesigns.canvasHeight;

          canvas.setDimensions({
            width: targetWidth,
            height: targetHeight,
          });

          canvasWrapper.style.width = `${targetWidth}px`;
          canvasWrapper.style.height = `${targetHeight + 50}px`;

          displayDesign(currentSide);
        }
      });
    </script>
  </body>
</html>
